<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting-started/workflow-for-robot/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Workflow for Robot | Fourier Builder</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.fftai.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.fftai.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.fftai.dev/docs/getting-started/workflow-for-robot/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Workflow for Robot | Fourier Builder"><meta data-rh="true" name="description" content="In the previous workflow, we built a simple &quot;Hello World&quot; sequence. In this section, we will develop a more complex workflow where a humanoid robot listens, thinks, speaks, and acts."><meta data-rh="true" property="og:description" content="In the previous workflow, we built a simple &quot;Hello World&quot; sequence. In this section, we will develop a more complex workflow where a humanoid robot listens, thinks, speaks, and acts."><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://developer.fftai.dev/docs/getting-started/workflow-for-robot/"><link data-rh="true" rel="alternate" href="https://developer.fftai.dev/docs/getting-started/workflow-for-robot/" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.fftai.dev/docs/getting-started/workflow-for-robot/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Fourier Builder RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Fourier Builder Atom Feed"><link rel="stylesheet" href="/assets/css/styles.2d5cfee7.css">
<script src="/assets/js/runtime~main.d25abee5.js" defer="defer"></script>
<script src="/assets/js/main.d1f7bae6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Fourier Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-white.png" alt="Fourier Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Fourier Developer</b></a><a class="navbar__item navbar__link" href="/docs/category/getting-started">Getting Started</a><a class="navbar__item navbar__link" href="/docs/category/workflow">Workflow</a><a class="navbar__item navbar__link" href="/docs/category/ai">AI</a><a class="navbar__item navbar__link" href="/docs/category/reference">Reference</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://builder.fftai.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Builder<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/fftai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/why-fourier-builder">Why Fourier Builder?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/concepts/">Basic Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ui/">UI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/getting-started">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/prepare/">Prepare Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/new-project/">New Project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/first-workflow/">First Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/getting-started/workflow-for-robot/">Workflow for Robot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/deployment/">Deploy to Robot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/next-step/">Next Step</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/workflow">Workflow</a><button aria-label="Expand sidebar category &#x27;Workflow&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/ai">AI</a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/reference">Reference</a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/getting-started"><span itemprop="name">Getting Started</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Workflow for Robot</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Workflow for Robot</h1>
<p>In the previous workflow, we built a simple &quot;Hello World&quot; sequence. In this section, we will develop a more complex workflow where a humanoid robot listens, thinks, speaks, and acts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-overview">Workflow Overview<a class="hash-link" aria-label="Direct link to Workflow Overview" title="Direct link to Workflow Overview" href="/docs/getting-started/workflow-for-robot/#workflow-overview">​</a></h2>
<p>The workflow consists of the following steps:</p>
<ol>
<li><strong>Start</strong>: Begin with initialization for the simulation.</li>
<li><strong>ASR</strong>: An Automatic Speech Recognition node acts as a trigger node.</li>
<li><strong>Event Loop</strong>: Event loop listens for events triggered by ASR.</li>
<li><strong>Event Processing</strong>: Handles the received events accordingly. In this example, it provides a response to the user&#x27;s question using an LLM and executes fixed actions: move forward for two seconds and then move backward for two seconds.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-workflow">Build Workflow<a class="hash-link" aria-label="Direct link to Build Workflow" title="Direct link to Build Workflow" href="/docs/getting-started/workflow-for-robot/#build-workflow">​</a></h2>
<ol>
<li><strong>Create New Project</strong>: Click the <code>New Project</code> button to create a new project.</li>
<li><strong>Edit Project Description</strong>: Click the pop-up menu at the bottom of the editing area, select <code>Edit Description</code>, and customize the project description as needed.
<img decoding="async" loading="lazy" alt="Edit Description" src="/assets/images/edit-description-fd7881b49690bb82f513dd82ee95a905.png" width="811" height="603" class="img_ev3q"></li>
<li><strong>Add Nodes</strong>: Follow the steps below to add the corresponding nodes to the workflow and configure them as necessary:<!-- -->
<ol>
<li><strong>Initialization</strong>：Add the nodes below:<!-- -->
<ul>
<li><strong>Humanoid Robot Node</strong> (Robot Control): Represents the robot entity, configuring the robot&#x27;s IP for control.</li>
<li><strong>Boolean Input Node</strong> (Input &amp; Output): Determines whether the workflow runs on the real robot or in simulation.<!-- -->
<ul>
<li>Select the Boolean Input Node, press the <code>Configure the node</code> button in the Property Pane, change the <code>Instance id</code> to <code>simulationControl</code>, and click <code>Confirm</code> button.
<img decoding="async" loading="lazy" alt="Config Boolean Input" src="/assets/images/config-boolean-input-c560483f8cbe6097603da9fee0fcac8c.png" width="650" height="479" class="img_ev3q">
<img decoding="async" loading="lazy" alt="Name Simulation Control" src="/assets/images/name-simulation-control-e52a7a9627cc7244b5712bdd70ff8977.png" width="882" height="393" class="img_ev3q"></li>
</ul>
</li>
<li><strong>If Node</strong> (Logic Control): Controls the initialization process. Drag the following nodes into the True block of the If Node:<!-- -->
<ul>
<li><strong>Start Control Server Node</strong> (Robot Management): Starts the robot control service.</li>
<li><strong>Start Node</strong> (Robot Control): Initializes the robot driver.</li>
<li><strong>Delay Node</strong> (Programming): Waits for initialization completion.</li>
<li><strong>Stand Node</strong> (Robot Control): Commands the robot to stand.</li>
<li><strong>Delay Node</strong> (Programming): Waits for the robot to complete standing.</li>
<li>For both Delay Nodes, input 5000 in the Time box in the Property Pane, indicating a 5-second delay (5000ms) to wait for command completion.</li>
<li>Connect the nodes in the True block of the If Node sequentially with the brown Trigger connections to define execution order.</li>
</ul>
</li>
<li>Use brown Trigger connections to link the Humanoid Robot Node, Boolean Input Node, and If Block sequentially.</li>
<li>Connect the pink endpoints of the Boolean Input Node (simulationControl) and the If Node to pass the simulationControl boolean value as an input for conditional judgment.
The current workflow should resemble the diagram below:
<img decoding="async" loading="lazy" alt="Workflow phase 1" src="/assets/images/phase-1-d57cfe7a9ece089c5af13d4ec64ad867.png" width="1307" height="436" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Configure Variables</strong>:<!-- -->
<ul>
<li>Click the pop-up menu at the bottom of the editing area, select <code>Define variables</code>, input <code>events</code>, and click the <code>+</code> button, creating a variable for event queue.</li>
<li>Then input <code>event</code> and click the <code>+</code> button, which will hold the current event being processed.</li>
</ul>
</li>
<li><strong>Trigger</strong>: Add the nodes below:<!-- -->
<ul>
<li><strong>Let Node</strong> (Programming): Assigns a value to a variable. In the Property Pane, select <code>events</code> in the <code>Variable</code> field and input <code>[]</code> in the <code>Value</code> field to initialize events as an empty array.
<img decoding="async" loading="lazy" alt="Let" src="/assets/images/let-53ffc2a24e67a63006c52252ca0b798c.png" width="531" height="489" class="img_ev3q"></li>
<li><strong>ASR Node</strong> (Interaction): Automatic Speech Recognition converts speech to text, triggering robot actions. Add the following nodes to the ASR block:<!-- -->
<ul>
<li><strong>For Each Node</strong> (Logic Control): Iterates over the ASR output event array, processing each element. Add the following node to the For Each block:<!-- -->
<ul>
<li><strong>Add Array Element Node</strong> (Programming): Adds elements to the array. Input <code>events</code> in the <code>Input Array</code> field to append the received object to the end of events.</li>
</ul>
</li>
</ul>
</li>
<li>Connect the Let, ASR, For Each, and Add Array Element nodes sequentially using the same color input-output ports, as shown below:
<img decoding="async" loading="lazy" alt="ASR" src="/assets/images/asr-ddf4946be27b524ffd3bfac82d984bd9.png" width="750" height="280" class="img_ev3q"></li>
</ul>
</li>
<li><strong>Main Message Loop</strong>:<!-- -->
<ul>
<li><strong>While Node</strong> (Logic Control): Select the While Node, input <code>true</code> in the <code>Condition</code> field of the Property Pane to create an infinite loop for the main message loop.
<img decoding="async" loading="lazy" alt="While Loop" src="/assets/images/while-true-ad38f66f3994b86078b89e253a169c62.png" width="822" height="328" class="img_ev3q">
Add the following nodes to the While block:<!-- -->
<ul>
<li><strong>While Node</strong>: Select the inner While Node, input <code>events.length&gt;0</code> in the <code>Condition</code> field of the Property Pane. This follows JavaScript syntax, processing events when the queue is not empty.</li>
<li><strong>Delay Node</strong> (Programming): Input 100 in the Time field.</li>
<li>Connect the nodes in the inner While block to the outer While Node and the Delay Node as shown below:
<img decoding="async" loading="lazy" alt="Event Loop 1" src="/assets/images/event-loop-1-12a4b60f6bd4f590333229f32b1785f8.png" width="755" height="305" class="img_ev3q"></li>
<li>Add the following nodes to the inner While block:<!-- -->
<ul>
<li><strong>Get Array Element Node</strong> (Programming): Takes elements from the array. Input <code>events</code> in the <code>Input Array</code> field and check the <code>Remove</code> box to remove processed events.</li>
<li><strong>Let Node</strong> (Programming): Assigns values to variables. In the Property Pane, select <code>event</code> in the <code>Variable</code> field.</li>
<li><strong>Switch Node</strong> (Logic Control): Handles messages, triggering different logic based on message type. Select the Switch Node, input <code>event.name</code> in the <code>Condition</code> field, and input <code>asr</code> in Case 1. If the event&#x27;s name is asr, it triggers the logic in Case 1.</li>
<li>Connect the inner While Node with the Get Array Element Node, Let Node, and Switch Block sequentially as shown below:
<img decoding="async" loading="lazy" alt="Event Loop 2" src="/assets/images/event-loop-2-668c0b0a71a4ec7edb2bd79215e6fd88.png" width="913" height="749" class="img_ev3q">
<ul>
<li>Add the following nodes to the Case 1 block of the Switch:<!-- -->
<ul>
<li><strong>LLM Node</strong> (AI): Large Language Model handles the user&#x27;s text input. Enable the <code>Exp</code> option next to <code>Question</code> and input <code>event.parameters.text</code> in <code>Question</code> to allow the LLM to respond to the ASR Node’s recognized text. Adjust System Context as needed.
<img decoding="async" loading="lazy" alt="LLM" src="/assets/images/llm-7f97526aab3bbddce3854ff739b2a622.png" width="384" height="818" class="img_ev3q"></li>
<li><strong>Text To Speech Node</strong> (Interaction): Converts text to speech allowing the robot to vocalize the LLM&#x27;s response. Customize the voice, speed, etc.</li>
<li><strong>Walk Node</strong> (Robot Control): Controls the robot&#x27;s movement.</li>
<li><strong>Delay Node</strong> (Programming): Waits for the robot to move. Set Time to 2000 (2 seconds).</li>
<li><strong>Walk Node</strong> (Robot Control): Moves the robot with <code>Speed</code> set to -0.1 (backward motion).</li>
<li><strong>Delay Node</strong> (Programming): Waits for the robot to move. Set Time to 2000 (2 seconds).</li>
<li><strong>Stand Node</strong> (Robot Control): Commands the robot to stand.</li>
<li>Connect the nodes as illustrated below:
<img decoding="async" loading="lazy" alt="Event Loop 3" src="/assets/images/event-loop-3-b071444e25a4afe8e35a0c12d71ceed9.png" width="1260" height="979" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Simulation Trigger</strong>：<!-- -->
<ul>
<li>To test robot movements in the simulation since ASR Node cannot run in a simulated environment, let&#x27;s simulate the trigger condition. Add the following nodes to the workflow:</li>
<li><strong>If Node</strong> (Logic Control): Add the following nodes to the True block of the If Node:<!-- -->
<ul>
<li><strong>Let Node</strong> (Programming): Assigns values to variables. In the Property Pane, select <code>events</code> in the <code>Variable</code> field and input <code>[{&quot;name&quot;:&quot;asr&quot;,&quot;parameters&quot;:{&quot;text&quot;:&quot;Hi, nice to meet you!&quot;}}]</code> in the <code>Value</code> field to simulate ASR detecting human conversation.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Final Assembly</strong>:<!-- -->
<ul>
<li>Connect the node groups created in previous steps in approximately the following sequence: i -&gt; iii -&gt; iv -&gt; v using brown Trigger connections.</li>
<li>Note: Connect the If block of the group v to the Let Node of the group iii; connect the pink input port of the If Node in the group v to the output port of the Boolean Input in the group i. The final setup should look like this:
<img decoding="async" loading="lazy" alt="Complete" src="/assets/images/complete-ff9a1eaac966368a080890a99f40ff71.png" width="1730" height="1659" class="img_ev3q"></li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-workflow-with-simulation">Test Workflow with Simulation<a class="hash-link" aria-label="Direct link to Test Workflow with Simulation" title="Direct link to Test Workflow with Simulation" href="/docs/getting-started/workflow-for-robot/#test-workflow-with-simulation">​</a></h2>
<p>Simulation is an important feature for robot development. It allows you to test your workflow without deploying it to the robot. You can see how the robot moves and interacts with its environment in real-time. It&#x27;s not only convenient but also safe. Sometimes flawed program can cause damages to the robot, simulation can help you avoid this risk. Or unexpected robot behavior will cause accident such as hurting people, simulation can help you avoid this risk.</p>
<ol>
<li>
<p><strong>Config Workflow for Simulation</strong>: Select the <code>simulationControl</code> (Boolean Input) node, check the <code>Data</code> option in the <code>Properties Pane</code> enabling the workflow to execute the simulation branch.</p>
</li>
<li>
<p><strong>Enable Simulation</strong>: Click the <code>Simulation</code> tab in the <code>Properties Pane</code> to enable the simulation feature, and then click the <strong>Turn on simulation</strong> button to start the simulation. Please wait for a moment, the simulation environment will be loaded.</p>
</li>
<li>
<p><strong>Run Workflow</strong>: Click the <code>Run</code> button to run the workflow in the simulation environment. You will see the robot moving forward and backward in the simulation.</p>
</li>
</ol>
<p>Since the simulation doesn&#x27;t support interactive features beyond movement, only basic robot movements are visible. In a real environment, the robot moves as expected and can listen and talk. Testing these features on the real robot is safe and straightforward.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" href="/docs/getting-started/workflow-for-robot/#next-steps">​</a></h2>
<p>Now we have a workflow that commands the robot to move forward and backward. In the next section, we will deploy the workflow to the robot and run it in a production environment.</p>
<p><strong>Note</strong>:
Before executing on the robot, deselect the <code>Data</code> option of the <code>simulationControl</code> (Boolean Input) node.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/tiwater/luban-docs/edit/main/docs/4-getting-started/4-workflow-for-robot/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-06-28T15:05:08.000Z" itemprop="dateModified">Jun 28, 2024</time></b> by <b>Sawyer</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/getting-started/first-workflow/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">First Workflow</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/getting-started/deployment/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploy to Robot</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/getting-started/workflow-for-robot/#workflow-overview">Workflow Overview</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/getting-started/workflow-for-robot/#build-workflow">Build Workflow</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/getting-started/workflow-for-robot/#test-workflow-with-simulation">Test Workflow with Simulation</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/getting-started/workflow-for-robot/#next-steps">Next Steps</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>